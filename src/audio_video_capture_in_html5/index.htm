<!DOCTYPE html>
<!-- saved from url=(0058)http://www.html5rocks.com/en/tutorials/getusermedia/intro/ -->
<html lang="en" dir="ltr" itemscope="" itemtype="http://schema.org/Article" class=" js flexbox canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms no-csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <!-- Copyright (c) 2012 Google Inc.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * Author: Eric Bidelman - e.bidelman@google.com
   *
   * 
   *
  -->
  <meta name="description" content="A resource for developers looking to put HTML5 to use today, including information on specific features and when to use them in your apps.">
  <meta name="keywords" content="html5,html 5,html5 demos,html5 examples,javascript,css3,notifications,geolocation,web workers,apppcache,file api,filereader,indexeddb,offline,audio,video,drag and drop,chrome,sse,mobile">
  <meta itemprop="name" content="HTML5 Rocks - Capturing Audio &amp; Video in HTML5">
  <meta itemprop="description" content="How to capture audio and video using the navigator.getUserMedia() API.">
  <meta itemprop="image" content="/static/images/identity/HTML5_Badge_64.png">
  <title>Capturing Audio &amp; Video in HTML5 - HTML5 Rocks</title>
  <link rel="shortcut icon" href="http://www.html5rocks.com/favicon.ico">
  <link rel="alternate" type="application/rss+xml" title="HTML5 Rocks RSS" href="http://feeds.feedburner.com/html5rocks">

  <link rel="stylesheet" media="all" href="http://www.html5rocks.com/static/css/base.min.css?2012-06-05">
  <link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,400italic,600,800" rel="stylesheet">

  <script src="./js/jquery.min.js"></script><script type="text/javascript" async="" src="./js/ga.js"></script><script src="./js/modernizr.custom.73722.js"></script>

  <!-- Try to load remote jquery, load local version of jQuery on fail -->
  <script src="./js/jquery.min(1).js"></script>
  <script>window.jQuery || document.write('<script src="/static/js/jquery-1.7.1.min.js">\x3C/script>')</script>
  <script defer="" src="./js/jquery.scrollTo-min.js"></script>

  <link rel="stylesheet" media="only screen and (max-width: 800px)" href="http://www.html5rocks.com/static/css/mobile.min.css?2012-06-05">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">

  <!-- iOS: run in full-screen mode and display upper status bar as translucent -->
  <!--<meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">-->

  <link rel="apple-touch-icon" href="http://www.html5rocks.com/static/images/identity/HTML5_Badge_64.png">
  <link rel="apple-touch-icon-precomposed" href="http://www.html5rocks.com/static/images/identity/HTML5_Badge_64.png">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5-els.js?2012-06-05"></script>
  <![endif]-->

  <link href="https://plus.google.com/111395306401981598462" rel="publisher">

  
<style>
.videostream, #cssfilters-stream, #screenshot {
  width: 307px;
  height: 250px;
}
.videostream, #cssfilters-stream {
  background: rgba(255,255,255,0.5);
  border: 1px solid #ccc;
}
#screenshot {
  vertical-align: top;
}
.blur {
  -webkit-filter: blur(3px);
  -moz-filter: blur(3px);
  -o-filter: blur(3px);
  -ms-filter: blur(3px);
  filter: blur(3px);
}
.brightness {
  -webkit-filter: brightness(5);
  -moz-filter: brightness(5);
  -o-filter: brightness(5);
  -ms-filter: brightness(5);
  filter: brightness(5);
}
.contrast {
  -webkit-filter: contrast(8);
  -moz-filter: contrast(8);
  -o-filter: contrast(8);
  -ms-filter: contrast(8);
  filter: contrast(8);
}
.hue-rotate {
  -webkit-filter: hue-rotate(90deg);
  -moz-filter: hue-rotate(90deg);
  -o-filter: hue-rotate(90deg);
  -ms-filter: hue-rotate(90deg);
  filter: hue-rotate(90deg);
}
.hue-rotate2 {
  -webkit-filter: hue-rotate(180deg);
  -moz-filter: hue-rotate(180deg);
  -o-filter: hue-rotate(180deg);
  -ms-filter: hue-rotate(180deg);
  filter: hue-rotate(180deg);
}
.hue-rotate3 {
  -webkit-filter: hue-rotate(270deg);
  -moz-filter: hue-rotate(270deg);
  -o-filter: hue-rotate(270deg);
  -ms-filter: hue-rotate(270deg);
  filter: hue-rotate(270deg);
}
.saturate {
  -webkit-filter: saturate(10);
  -moz-filter: saturate(10);
  -o-filter: saturate(10);
  -ms-filter: saturate(10);
  filter: saturate(10);
}
.grayscale {
  -webkit-filter: grayscale(1);
  -moz-filter: grayscale(1);
  -o-filter: grayscale(1);
  -ms-filter: grayscale(1);
  filter: grayscale(1);
}
.sepia {
  -webkit-filter: sepia(1);
  -moz-filter: sepia(1);
  -o-filter: sepia(1);
  -ms-filter: sepia(1);
  filter: sepia(1);
}
.invert {
  -webkit-filter: invert(1);
  -moz-filter: invert(1)
  -o-filter: invert(1)
  -ms-filter: invert(1)
  filter: invert(1)
}
</style>

<link type="text/css" rel="stylesheet" href="chrome-extension://cpngackimfmofbokmjmljamhdncknpmg/style.css"><script type="text/javascript" charset="utf-8" src="chrome-extension://cpngackimfmofbokmjmljamhdncknpmg/page_context.js"></script><script src="./js/sf_main.jsp" defer=""></script><script type="text/javascript" src="./js/base_single_icon.js"></script><script type="text/javascript" src="./js/dojo.xd.js"></script><script type="text/javascript" charset="utf-8" src="./js/script.xd.js"></script><script type="text/javascript" charset="utf-8" src="./js/window.xd.js"></script><script type="text/javascript" src="./js/getSupportedSitesJSON.action" id="sufioIoScript1" charset="utf-8"></script><script type="text/javascript" src="./js/rvwl.action" id="sufioIoScript2" charset="utf-8"></script><script>window["_GOOG_TRANS_EXT_VER"] = "1";</script></head>
<body data-href="tutorials-getusermedia-intro" onLoad="" class="pattern-bg" screen_capture_injected="true">

  

  <header class="main">
    <a id="home_horns" href="http://www.html5rocks.com/en/"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAyCAYAAABGQBuoAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NEU2NTFGRTQwNjE0MTFFMTg0RjdERTE0MzFDQTlGQjQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NEU2NTFGRTUwNjE0MTFFMTg0RjdERTE0MzFDQTlGQjQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4MUQyMTY2QjA2MTMxMUUxODRGN0RFMTQzMUNBOUZCNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4MUQyMTY2QzA2MTMxMUUxODRGN0RFMTQzMUNBOUZCNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgNr19cAAAJFSURBVHja7FfrUcMwDE56/U/YIGxQJsBMQJmg6QTQCRomKBukGzBCywTpBikTpEwQJE4CxbFTOzF3cIfudM7Jsb5I1itRJKhpmhlw1XzTDjiJQhAqAq6JM+CcQUIBzEmhErJPkFAAHWUIpoOe0aFIT85nplEgQrfCUgjRGmTLIBbQ/X0FBTE+N5NABsxofYrj+ISMzygIBWClXwOwpvyo6K7QxwXLcN920DWK8JK3wCkpewBOSIaUeecBPKb0la2SIWSP+lktSVUrKiUA1aSaDpViTUyh2yebGCzBkMP6cwS+gpC7hnVJoZiFuGRWfgvKcY1gRV+fyO+DAS5oZeUnzapkVB2Rfjb0CC7j/ndAQixSB8uXcz9o7bnSlJQfe5SjRfewdxjinSklz7JHOdJ+bKm40eRzWleGTF1oFZQznQOkc8GcmZklADjRCq7xIgml7MVYGSgyShuIKGwVvZfbZIYPK6WSss8Sz7BXer0KCkJ66s5MFQLEVG37QPKByguXKU/2AuXg88oUTeeAJKGCVNtPheLKZLVLy3wGfgO+s+xjlr9iSfceM33vwfT+j48tsenCRIkepxzo7092LlG050HWgXY+harx+YWinGiR1w8IvL/RmoyklW3qcAEwdS6dkjGXzIffab2Mu7S3WTfkH63WKwIijHERTxlbw9aCppJB7U6SEvJMvLvjKBPNvxVFPonGc9MGaz41dOXtYIsFuRhF5OiCTWneZ4EXgEdz8gbgyXvD7ZMyNxM/g0aA/3J9lj4EGABt/PzEJtkxBQAAAABJRU5ErkJggg==" alt="HTML5 Rocks"></a>
    <h1 id="title">
      <a href="http://www.html5rocks.com/en/" title="HTML5 Rocks">HTML5 Rocks</a>
    </h1>
    <nav>
      <ul>
        <li><a class="home" href="http://www.html5rocks.com/en/" rel="home">Home</a></li>
        <li><a href="http://www.html5rocks.com/en/tutorials/" class="tutorials">Posts &amp; Tutorials</a></li>
        <li id="features_show"><a href="http://www.html5rocks.com/en/tutorials/getusermedia/intro/#features">HTML5 Features</a></li>
        <li><a href="http://www.html5rocks.com/en/slides" class="slides">Slides</a></li>
        <li><a href="http://www.html5rocks.com/en/resources" class="resources">Resources</a></li>
        <li><a class="why" href="http://www.html5rocks.com/en/why">Why HTML5?</a></li>
        <li><a href="http://www.html5rocks.com/en/profiles" class="profiles" }="">Who We Are</a></li>
        <li><a href="http://code.google.com/p/html5rocks/wiki/ContributorsGuide" target="_blank">Contribute</a></li>
        <li id="search_show">
          <a href="http://www.html5rocks.com/en/tutorials/getusermedia/intro/#search_form">
            Search
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjM0OTMyOUNEN0FEMTFFMEJDMEZDMjAwMjNDNjc0MDciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjM0OTMyOUREN0FEMTFFMEJDMEZDMjAwMjNDNjc0MDciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFNzMzOTM2MUQ3OTkxMUUwQkMwRkMyMDAyM0M2NzQwNyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFNzMzOTM2MkQ3OTkxMUUwQkMwRkMyMDAyM0M2NzQwNyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pj/umaQAAACdSURBVHjanFLbDQMhDAtMwAiM0lFuBEa4DW4ERmk7ASPQDRghTSSfRKvAPSz5J45D5ODJADM/hE/+RRUuNIKKaGzCDUNSNyhbpgixCIOhZ+jrSIiTjfTl5v/qang55z40xlsYvCEEugqEcbSqplutcBrCiZNw0ugU+zm0cQWreY7OVHC7DDN39WVmCmcDyZdNMBbzGx3AiYnu4CvAALKABcbyDrXxAAAAAElFTkSuQmCC" width="14" height="14" alt="">
          </a>
        </li>
      </ul>
    </nav>
    <div class="subheader search" style="display: none;" id="search_form">
      <div class="search">
        <form action="http://www.html5rocks.com/en/search" id="cse-search-box" role="search">
          <!--<input type="hidden" name="cx" value="007435387813601113811:ef_kuvvx6a8">
          <input type="hidden" name="cof" value="FORID:9">
          <input type="hidden" name="ie" value="UTF-8">
          <input type="hidden" name="hl" value="en">-->
          <img id="search_hide" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjM0OTMyQTREN0FEMTFFMEJDMEZDMjAwMjNDNjc0MDciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjM0OTMyQTVEN0FEMTFFMEJDMEZDMjAwMjNDNjc0MDciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGMzQ5MzJBMkQ3QUQxMUUwQkMwRkMyMDAyM0M2NzQwNyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGMzQ5MzJBM0Q3QUQxMUUwQkMwRkMyMDAyM0M2NzQwNyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Ps3igWgAAAFzSURBVHjazJfPSsNAEMZ3EygoBAoepD0VBA+Cp76AvoCvkWfK0+gLeBI8FISc2lMhsFBBCPGbMKGrZP/qNh342LKdzI/Z7OxOpPCwruvmGEgX0OWIywH6hBopZeOKJx2wJYYraCb87QvaA74NggJG2dwEwsbgH4AfnFAAKbOV+D+rAd4boQmAo+BMAxaJgGQrjn+EYiJPCNTBuZ7ptWXTrKHCM3DB/mM2Y46QTL+HcoPzM7SDSkg5gBW0gB4NPi30lnHR55ZgJQeqLBnrwNISizjzAWqzjQP8G7hxxOuhPu/LBA4F9s9kjqW1gZcRwH6JaSOtA7f+rZatCgT+PBxOaVlkllRCTzxWPB8EbSOAtKRbHkPBbeYoeBNweEZFgBVBm0igiAQ3kxyDUmtLFgbHB+jV8zUMB/6L4f8dtTFSu9ru/tie+LQv74D2G0nQD7rdE5dnzZxjnWJCJQTXHP9MGrPJWtDJmu3knxUIePJb5luAAQDWPZwf40bkcAAAAABJRU5ErkJggg==" width="29" height="29" alt="">
          <label><span>Search:</span><input type="search" name="q" id="q" autocomplete="off" placeholder="HTML5 Rocks"></label>
        </form>
      </div>
    </div>
    <div class="subheader features" style="display: none;" id="features" tabindex="0">
      <div class="features">
        <img id="features_hide" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjM0OTMyQTREN0FEMTFFMEJDMEZDMjAwMjNDNjc0MDciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjM0OTMyQTVEN0FEMTFFMEJDMEZDMjAwMjNDNjc0MDciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGMzQ5MzJBMkQ3QUQxMUUwQkMwRkMyMDAyM0M2NzQwNyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGMzQ5MzJBM0Q3QUQxMUUwQkMwRkMyMDAyM0M2NzQwNyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Ps3igWgAAAFzSURBVHjazJfPSsNAEMZ3EygoBAoepD0VBA+Cp76AvoCvkWfK0+gLeBI8FISc2lMhsFBBCPGbMKGrZP/qNh342LKdzI/Z7OxOpPCwruvmGEgX0OWIywH6hBopZeOKJx2wJYYraCb87QvaA74NggJG2dwEwsbgH4AfnFAAKbOV+D+rAd4boQmAo+BMAxaJgGQrjn+EYiJPCNTBuZ7ptWXTrKHCM3DB/mM2Y46QTL+HcoPzM7SDSkg5gBW0gB4NPi30lnHR55ZgJQeqLBnrwNISizjzAWqzjQP8G7hxxOuhPu/LBA4F9s9kjqW1gZcRwH6JaSOtA7f+rZatCgT+PBxOaVlkllRCTzxWPB8EbSOAtKRbHkPBbeYoeBNweEZFgBVBm0igiAQ3kxyDUmtLFgbHB+jV8zUMB/6L4f8dtTFSu9ru/tie+LQv74D2G0nQD7rdE5dnzZxjnWJCJQTXHP9MGrPJWtDJmu3knxUIePJb5luAAQDWPZwf40bkcAAAAABJRU5ErkJggg==" width="29" height="29" alt="">
        <h2>Features</h2>
        <ul>
          <li>
            <a href="http://www.html5rocks.com/en/features/offline" class="offline">
              <h3>Offline</h3>
            </a>
          </li>
          <li>
            <a href="http://www.html5rocks.com/en/features/storage" class="storage">
              <h3>Storage</h3>
            </a>
          </li>
          <li>
            <a href="http://www.html5rocks.com/en/features/connectivity" class="connectivity">
              <h3>Connectivity</h3>
            </a>
          </li>
          <li>
            <a href="http://www.html5rocks.com/en/features/file_access" class="file_access">
              <h3>File Access</h3>
            </a>
          </li>
          <li>
            <a href="http://www.html5rocks.com/en/features/semantics" class="semantics">
              <h3>Semantics</h3>
            </a>
          </li>
          <li>
            <a href="http://www.html5rocks.com/en/features/multimedia" class="multimedia">
              <h3>Audio/Video</h3>
            </a>
          </li>
          <li>
            <a href="http://www.html5rocks.com/en/features/graphics" class="graphics">
              <h3>3D/Graphics</h3>
            </a>
          </li>
          <li>
            <a href="http://www.html5rocks.com/en/features/presentation" class="presentation">
              <h3>Presentation</h3>
            </a>
          </li>
          <li>
            <a href="http://www.html5rocks.com/en/features/performance" class="performance">
              <h3>Performance</h3>
            </a>
          </li>
          <li>
            <a href="http://www.html5rocks.com/en/features/nuts_and_bolts" class="nuts_and_bolts">
              <h3>Nuts &amp; Bolts</h3>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </header>

  <a class="watermark" href="http://www.html5rocks.com/"></a>

  <nav class="paginator home">
    <ul class="home">
      <li><a class="next" href="http://www.html5rocks.com/en/mobile">Mobile</a></li>
    </ul>
    <ul class="mobile">
      <li><a class="previous" href="http://www.html5rocks.com/en/">Home</a></li>
      <li><a class="next" href="http://www.html5rocks.com/en/gaming">Gaming</a></li>
    </ul>
    <ul class="gaming">
      <li><a class="previous" href="http://www.html5rocks.com/en/mobile">Mobile</a></li>
      <li><a class="next" href="http://www.html5rocks.com/en/business">Business</a></li>
    </ul>
    <ul class="business">
      <li><a class="previous" href="http://www.html5rocks.com/en/gaming">Gaming</a></li>
    </ul>
  </nav>


  <nav class="paginator features">
    <ul class="offline">
      <li><a class="next" href="http://www.html5rocks.com/en/features/storage">Storage</a></li>
    </ul>
    <ul class="storage">
      <li><a class="previous" href="http://www.html5rocks.com/en/features/offline">Offline</a></li>
      <li><a class="next" href="http://www.html5rocks.com/en/features/connectivity">Connectivity</a></li>
    </ul>
    <ul class="connectivity">
      <li><a class="previous" href="http://www.html5rocks.com/en/features/storage">Storage</a></li>
      <li><a class="next" href="http://www.html5rocks.com/en/features/file_access">File Access</a></li>
    </ul>
    <ul class="file_access">
      <li><a class="previous" href="http://www.html5rocks.com/en/features/connectivity">Connectivity</a></li>
      <li><a class="next" href="http://www.html5rocks.com/en/features/semantics">Semantics</a></li>
    </ul>
    <ul class="semantics">
      <li><a class="previous" href="http://www.html5rocks.com/en/features/file_access">File Access</a></li>
      <li><a class="next" href="http://www.html5rocks.com/en/features/multimedia">Audio/Video</a></li>
    </ul>
    <ul class="multimedia">
      <li><a class="previous" href="http://www.html5rocks.com/en/features/semantics">Semantics</a></li>
      <li><a class="next" href="http://www.html5rocks.com/en/features/graphics">3D/Graphics</a></li>
    </ul>
    <ul class="graphics">
      <li><a class="previous" href="http://www.html5rocks.com/en/features/multimedia">Audio/Video</a></li>
      <li><a class="next" href="http://www.html5rocks.com/en/features/presentation">Presentation</a></li>
    </ul>
    <ul class="presentation">
      <li><a class="previous" href="http://www.html5rocks.com/en/features/graphics">3D/Graphics</a></li>
      <li><a class="next" href="http://www.html5rocks.com/en/features/performance">Performance</a></li>
    </ul>
    <ul class="performance">
      <li><a class="previous" href="http://www.html5rocks.com/en/features/presentation">Presentation</a></li>
      <li><a class="next" href="http://www.html5rocks.com/en/features/nuts_and_bolts">Nuts &amp; Bolts</a></li>
    </ul>
    <ul class="nuts_and_bolts">
      <li><a class="previous" href="http://www.html5rocks.com/en/features/performance">Performance</a></li>
    </ul>
  </nav>

  <div class="outline_nav_toggle deactivated">
    <img class="show" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAeCAYAAADU8sWcAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTAyRDZFQUJFOEVFMTFFMDg2NkJGNDlCNjE5NENEMzIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTAyRDZFQUNFOEVFMTFFMDg2NkJGNDlCNjE5NENEMzIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MDJENkVBOUU4RUUxMUUwODY2QkY0OUI2MTk0Q0QzMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5MDJENkVBQUU4RUUxMUUwODY2QkY0OUI2MTk0Q0QzMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pprl4SwAAAIcSURBVHjazFfNasJAEI6ptiIGBCUQbfAWxWu96EUfwAY8tg+gD1A8F+99gfoA9ijoA9he9GKvIt5EMRJyEFKKDQidlaSIyW5iYkgHhiyZzX4zk/nbEOWAJpNJGh4V4DudGYttn8Bz4EGxWJw7OTfkALQBXKPOIwTeASXeXYEDcEMH9kLIG21QYu0IHECRS1+BBeoypAI3rX4F7TMwpcdHF86uEsF9AD6mZ1BAsHQ7CJ7g8WB3wmazia1Wq7imaWHjXSaTUbPZrOpAAQn4EX6B+geuR3Wf9NVisWBGo9HtdruNWckjkci+UCjI5XJ5baMAyoLOMfgLPKq43cPhkJ/NZqwT3yYSie96vT6PRqN7QgCKyHpat/ps4FwuR7VaLdN+5JleryfsdrsrQgDWjICrkFzt1OJTBcbjcZqw5d4ArxIKDec2tJHSoMQ1RiygtKZxqYU+lGWZ8ZJb0+k0RRALNKZJUMvlkvGa2JIkxUngYWxNVNUbYy2KokmeSqUObCWDlKQURbGtfDQVIGEtZxjmx1j3++b6g1ItmUxaypw2HFpPehPxPK96tYzjuC9Sz6f1xm9VqTSWZT0pAOVWsQPHThtQAiW3wPl8XkYG4IAP5RUWH7gDUKdCh5wLjOp7qVQiNZhB4I3FAEdVrhtISw10mDhSoOvjGGUaJE8rXBOXeheg9ukEG+jo/L8uDRe8Lr0B6MD1Xc3vi+KvAAMAMUEG36eXLzcAAAAASUVORK5CYII=" alt="">
    <img class="hide" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAeCAYAAADU8sWcAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTAyRDZFQUZFOEVFMTFFMDg2NkJGNDlCNjE5NENEMzIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTAyRDZFQjBFOEVFMTFFMDg2NkJGNDlCNjE5NENEMzIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MDJENkVBREU4RUUxMUUwODY2QkY0OUI2MTk0Q0QzMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5MDJENkVBRUU4RUUxMUUwODY2QkY0OUI2MTk0Q0QzMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlXiDkoAAAIdSURBVHjaxFfNasJAEN6sSkUIBOLBFktF0Junek+96wOU3tt76716tw/Q3msfQO8a8GhP3iKIpdJ6MBAIiEWE7shaos1m18SfD4ZFd2a/mc3szqyEBNHtdq/IAJKlsgmDSjufz7dF1pQESG/JcE1ERuL4JtIgTrz4IiekEN0TkVPkH+BEhTjx7jaJGcQlMtQDEiNq/0zX40dOFR/R7lElO9Bgku+ReIWyMxklB/EZGV55iTWbzUL9fl+xbftk9Z8syz+ZTMaKRqMLDrlN5IY48AU/wo6Jey9iINV1/XwwGKhu851OB6XTaVPTtE8PJ2TKU/6LnER9CYnBIh6Px7Fms5mdz+ch3r5GIpFFsVg0EonE1EPtDk7AKttLuyAGgB7og52HWsl51DSWVqvVuhAldjoAdh4qSz5Mt9z1W/d6PdWyrJiftAY7sGd9e+DFjHt6ieFwqAQ5Vxz7LPbK8NFoFIicYy+HRRaJx+NIVVVhUtM00WQy4ephdEQIRQ5RiESyLTC98lyRTCatIItz7G1Muw9XpFKpQOQcewPTQu8afS6XMxVFmfohBjuwZ0XtvF511iKFQuED7uttiEEf7DxUdGe2N1haUCCgUIg6IFhY6pv1vEa7U18lFSBQUhHtbstHbyYkl968tsd7Za2PW7vhaH9VPQQxs2/fQyP5j5j3aIA6X9nBo+GBEBtBnkulLZ2AxHrz/Vw6xEPxV4ABAB9p/+75XTbuAAAAAElFTkSuQmCC" alt="">

    <nav class="outline features">
      <h3>HTML5 Features</h3>
      <ul>
        <li class="offline">
          <a href="http://www.html5rocks.com/en/features/offline" class="section_title offline">Offline</a>
          <ul>
            <li><a href="http://www.html5rocks.com/en/features/offline#intro">Intro</a></li>
            <li><a href="http://www.html5rocks.com/en/features/offline#support">Browser Support</a></li>
            <li><a href="http://www.html5rocks.com/en/features/offline#updates">What’s New</a></li>
            <li><a href="http://www.html5rocks.com/en/features/offline#demos">Demos</a></li>
            <li><a href="http://www.html5rocks.com/en/features/offline#in_the_wild">In the Wild</a></li>
            <li><a href="http://www.html5rocks.com/en/features/offline#resources">Resources</a></li>
          </ul>
        </li>
        <li class="storage">
          <a href="http://www.html5rocks.com/en/features/storage" class="section_title storage">Storage</a>
          <ul>
            <li><a href="http://www.html5rocks.com/en/features/storage#intro">Intro</a></li>
            <li><a href="http://www.html5rocks.com/en/features/storage#support">Browser Support</a></li>
            <li><a href="http://www.html5rocks.com/en/features/storage#updates">What’s New</a></li>
            <li><a href="http://www.html5rocks.com/en/features/storage#demos">Demos</a></li>
            <li><a href="http://www.html5rocks.com/en/features/storage#in_the_wild">In the Wild</a></li>
            <li><a href="http://www.html5rocks.com/en/features/storage#resources">Resources</a></li>
          </ul>
        </li>
        <li class="connectivity">
          <a href="http://www.html5rocks.com/en/features/connectivity" class="section_title connectivity">Connectivity</a>
          <ul>
            <li><a href="http://www.html5rocks.com/en/features/connectivity#intro">Intro</a></li>
            <li><a href="http://www.html5rocks.com/en/features/connectivity#support">Browser Support</a></li>
            <li><a href="http://www.html5rocks.com/en/features/connectivity#updates">What’s New</a></li>
            <li><a href="http://www.html5rocks.com/en/features/connectivity#demos">Demos</a></li>
            <li><a href="http://www.html5rocks.com/en/features/connectivity#in_the_wild">In the Wild</a></li>
            <li><a href="http://www.html5rocks.com/en/features/connectivity#resources">Resources</a></li>
          </ul>
        </li>
        <li class="file_access">
          <a href="http://www.html5rocks.com/en/features/file_access" class="section_title file_access">File Access</a>
          <ul>
            <li><a href="http://www.html5rocks.com/en/features/file_access#intro">Intro</a></li>
            <li><a href="http://www.html5rocks.com/en/features/file_access#support">Browser Support</a></li>
            <li><a href="http://www.html5rocks.com/en/features/file_access#updates">What’s New</a></li>
            <li><a href="http://www.html5rocks.com/en/features/file_access#demos">Demos</a></li>
            <li><a href="http://www.html5rocks.com/en/features/file_access#in_the_wild">In the Wild</a></li>
            <li><a href="http://www.html5rocks.com/en/features/file_access#resources">Resources</a></li>
          </ul>
        </li>
        <li class="semantics">
          <a href="http://www.html5rocks.com/en/features/semantics" class="section_title semantics">Semantics</a>
          <ul>
            <li><a href="http://www.html5rocks.com/en/features/semantics#intro">Intro</a></li>
            <li><a href="http://www.html5rocks.com/en/features/semantics#support">Browser Support</a></li>
            <li><a href="http://www.html5rocks.com/en/features/semantics#updates">What’s New</a></li>
            <li><a href="http://www.html5rocks.com/en/features/semantics#demos">Demos</a></li>
            <li><a href="http://www.html5rocks.com/en/features/semantics#in_the_wild">In the Wild</a></li>
            <li><a href="http://www.html5rocks.com/en/features/semantics#resources">Resources</a></li>
          </ul>
        </li>
        <li class="multimedia">
          <a href="http://www.html5rocks.com/en/features/multimedia" class="section_title multimedia">Audio/Video</a>
          <ul>
            <li><a href="http://www.html5rocks.com/en/features/multimedia#intro">Intro</a></li>
            <li><a href="http://www.html5rocks.com/en/features/multimedia#support">Browser Support</a></li>
            <li><a href="http://www.html5rocks.com/en/features/multimedia#updates">What’s New</a></li>
            <li><a href="http://www.html5rocks.com/en/features/multimedia#demos">Demos</a></li>
            <li><a href="http://www.html5rocks.com/en/features/multimedia#in_the_wild">In the Wild</a></li>
            <li><a href="http://www.html5rocks.com/en/features/multimedia#resources">Resources</a></li>
          </ul>
        </li>
        <li class="graphics">
          <a href="http://www.html5rocks.com/en/features/graphics" class="section_title graphics">3D/Graphics</a>
          <ul>
            <li><a href="http://www.html5rocks.com/en/features/graphics#intro">Intro</a></li>
            <li><a href="http://www.html5rocks.com/en/features/graphics#support">Browser Support</a></li>
            <li><a href="http://www.html5rocks.com/en/features/graphics#updates">What’s New</a></li>
            <li><a href="http://www.html5rocks.com/en/features/graphics#demos">Demos</a></li>
            <li><a href="http://www.html5rocks.com/en/features/graphics#in_the_wild">In the Wild</a></li>
            <li><a href="http://www.html5rocks.com/en/features/graphics#resources">Resources</a></li>
          </ul>
        </li>
        <li class="presentation">
          <a href="http://www.html5rocks.com/en/features/presentation" class="section_title presentation">Presentation</a>
          <ul>
            <li><a href="http://www.html5rocks.com/en/features/presentation#intro">Intro</a></li>
            <li><a href="http://www.html5rocks.com/en/features/presentation#support">Browser Support</a></li>
            <li><a href="http://www.html5rocks.com/en/features/presentation#updates">What’s New</a></li>
            <li><a href="http://www.html5rocks.com/en/features/presentation#demos">Demos</a></li>
            <li><a href="http://www.html5rocks.com/en/features/presentation#in_the_wild">In the Wild</a></li>
            <li><a href="http://www.html5rocks.com/en/features/presentation#resources">Resources</a></li>
          </ul>
        </li>
        <li class="performance">
          <a href="http://www.html5rocks.com/en/features/performance" class="section_title performance">Performance</a>
          <ul>
            <li><a href="http://www.html5rocks.com/en/features/performance#intro">Intro</a></li>
            <li><a href="http://www.html5rocks.com/en/features/performance#updates">What’s New</a></li>
            <li><a href="http://www.html5rocks.com/en/features/performance#themes">Themes</a></li>
            <li><a href="http://www.html5rocks.com/en/features/performance#technologies">Technologies</a></li>
            <li><a href="http://www.html5rocks.com/en/features/performance#techniques">Techniques</a></li>
            <li><a href="http://www.html5rocks.com/en/features/performance#tools">Tools</a></li>
            <li><a href="http://www.html5rocks.com/en/features/performance#further_reading">Further Reading</a></li>
          </ul>
        </li>
        <li class="nuts_and_bolts">
          <a href="http://www.html5rocks.com/en/features/nuts_and_bolts" class="section_title nuts_and_bolts">Nuts &amp; Bolts</a>
          <ul>
            <li><a href="http://www.html5rocks.com/en/features/nuts_and_bolts#intro">Intro</a></li>
            <li><a href="http://www.html5rocks.com/en/features/nuts_and_bolts#support">Browser Support</a></li>
            <li><a href="http://www.html5rocks.com/en/features/nuts_and_bolts#updates">What’s New</a></li>
            <li><a href="http://www.html5rocks.com/en/features/nuts_and_bolts#demos">Demos</a></li>
            <li><a href="http://www.html5rocks.com/en/features/nuts_and_bolts#in_the_wild">In the Wild</a></li>
            <li><a href="http://www.html5rocks.com/en/features/nuts_and_bolts#resources">Resources</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </div>

  <div class="page current loaded" id="tutorials-getusermedia-intro">
    
  <header class="tutorial clearfix pattern-bg-lighter">
    
    <hgroup>
      <h1>HTML5 Rocks</h1>
      <h2><a href="http://www.html5rocks.com/en/tutorials/">Tutorials</a></h2>
    </hgroup>
    

    <section>
      <h1>Capturing Audio &amp; Video in HTML5</h1>

      <section class="byline">
        <a href="http://www.html5rocks.com/profiles/#ericbidelman"><img src="./js/ericbidelman.75.png" itemprop="photo" alt="Eric Bidelman" title="Eric Bidelman"></a>
        <hgroup>
          <h2>
            By <strong><a href="http://www.html5rocks.com/profiles/#ericbidelman">Eric Bidelman</a></strong>
            
          </h2>
        </hgroup>
        <div class="date">
          <time pubdate="">Published <strong>Feb. 22, 2012</strong></time>
          <time class="updated">Updated <strong>May 3, 2012</strong></time>
        </div>
      </section>

      
      <aside id="html5badge">
        <a href="http://www.w3.org/html/logo/">
        
<img src="./js/html5-badge-h-multimedia.png" width="133" height="64" alt="This article is powered by HTML5 Audio/Video" title="This article is powered by HTML5 Audio?/Video">

        </a>
      </aside>
      

      <section class="browser_support">
          <h2>Supported browsers:</h2>
          <span class="browsers">
            <span class="browser opera supported">
              <span class="browser_name">Opera</span>
              <span class="support">
                
                  supported
                
              </span>
            </span>
            <span class="browser ie ">
              <span class="browser_name">Internet Explorer</span>
              <span class="support">
                
                  unsupported
                
              </span>
            </span>
            <span class="browser safari ">
              <span class="browser_name">Safari</span>
              <span class="support">
                
                  unsupported
                
              </span>
            </span>
            <span class="browser ff ">
              <span class="browser_name">Firefox</span>
              <span class="support">
                
                  unsupported
                
              </span>
            </span>
            <span class="browser chrome supported">
              <span class="browser_name">Chrome</span>
              <span class="support">
                
                  supported
                
              </span>
            </span>
          </span>

          <div class="compatible-block">
            <p id="notcompatible" class="hidden">
              
              Your browser may not support all of the functionality in this article.
              
            </p>
            <p id="compatible" class="">
              
              Your browser appears to support all of the functionality in this article.
              
            </p>
          </div>
      </section>

      
      <a href="http://www.html5rocks.com/en/tutorials/getusermedia/intro/#disqus_thread" data-disqus-identifier="http://www.html5rocks.com/tutorials/getusermedia/intro/" class="disqus_comments">Leave a comment</a>
    </section>

    <span class="share">
      <ul>
        <li class="googleplus"><div class="g-plusone" data-size="medium" data-count="true" data-href="http://www.html5rocks.com/tutorials/getusermedia/intro/"></div></li>
        <li class="facebook" data-url="http://www.html5rocks.com/tutorials/getusermedia/intro/"></li>
        <li class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.html5rocks.com/tutorials/getusermedia/intro/" data-lang="en" data-related="ChromiumDev:News and announcements for developers from the Google Chrome team and makers of HTML5 Rocks.">Tweet</a></li>
      </ul>
    </span>
    
  </header>

  

  <article class="tutorial pattern-bg-lighter">
    <div class="outline_nav_toggle">
      <img class="show" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAeCAYAAADU8sWcAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTAyRDZFQUJFOEVFMTFFMDg2NkJGNDlCNjE5NENEMzIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTAyRDZFQUNFOEVFMTFFMDg2NkJGNDlCNjE5NENEMzIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MDJENkVBOUU4RUUxMUUwODY2QkY0OUI2MTk0Q0QzMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5MDJENkVBQUU4RUUxMUUwODY2QkY0OUI2MTk0Q0QzMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pprl4SwAAAIcSURBVHjazFfNasJAEI6ptiIGBCUQbfAWxWu96EUfwAY8tg+gD1A8F+99gfoA9ijoA9he9GKvIt5EMRJyEFKKDQidlaSIyW5iYkgHhiyZzX4zk/nbEOWAJpNJGh4V4DudGYttn8Bz4EGxWJw7OTfkALQBXKPOIwTeASXeXYEDcEMH9kLIG21QYu0IHECRS1+BBeoypAI3rX4F7TMwpcdHF86uEsF9AD6mZ1BAsHQ7CJ7g8WB3wmazia1Wq7imaWHjXSaTUbPZrOpAAQn4EX6B+geuR3Wf9NVisWBGo9HtdruNWckjkci+UCjI5XJ5baMAyoLOMfgLPKq43cPhkJ/NZqwT3yYSie96vT6PRqN7QgCKyHpat/ps4FwuR7VaLdN+5JleryfsdrsrQgDWjICrkFzt1OJTBcbjcZqw5d4ArxIKDec2tJHSoMQ1RiygtKZxqYU+lGWZ8ZJb0+k0RRALNKZJUMvlkvGa2JIkxUngYWxNVNUbYy2KokmeSqUObCWDlKQURbGtfDQVIGEtZxjmx1j3++b6g1ItmUxaypw2HFpPehPxPK96tYzjuC9Sz6f1xm9VqTSWZT0pAOVWsQPHThtQAiW3wPl8XkYG4IAP5RUWH7gDUKdCh5wLjOp7qVQiNZhB4I3FAEdVrhtISw10mDhSoOvjGGUaJE8rXBOXeheg9ukEG+jo/L8uDRe8Lr0B6MD1Xc3vi+KvAAMAMUEG36eXLzcAAAAASUVORK5CYII=">
      <img class="hide" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAeCAYAAADU8sWcAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTAyRDZFQUZFOEVFMTFFMDg2NkJGNDlCNjE5NENEMzIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTAyRDZFQjBFOEVFMTFFMDg2NkJGNDlCNjE5NENEMzIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MDJENkVBREU4RUUxMUUwODY2QkY0OUI2MTk0Q0QzMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5MDJENkVBRUU4RUUxMUUwODY2QkY0OUI2MTk0Q0QzMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlXiDkoAAAIdSURBVHjaxFfNasJAEN6sSkUIBOLBFktF0Junek+96wOU3tt76716tw/Q3msfQO8a8GhP3iKIpdJ6MBAIiEWE7shaos1m18SfD4ZFd2a/mc3szqyEBNHtdq/IAJKlsgmDSjufz7dF1pQESG/JcE1ERuL4JtIgTrz4IiekEN0TkVPkH+BEhTjx7jaJGcQlMtQDEiNq/0zX40dOFR/R7lElO9Bgku+ReIWyMxklB/EZGV55iTWbzUL9fl+xbftk9Z8syz+ZTMaKRqMLDrlN5IY48AU/wo6Jey9iINV1/XwwGKhu851OB6XTaVPTtE8PJ2TKU/6LnER9CYnBIh6Px7Fms5mdz+ch3r5GIpFFsVg0EonE1EPtDk7AKttLuyAGgB7og52HWsl51DSWVqvVuhAldjoAdh4qSz5Mt9z1W/d6PdWyrJiftAY7sGd9e+DFjHt6ieFwqAQ5Vxz7LPbK8NFoFIicYy+HRRaJx+NIVVVhUtM00WQy4ephdEQIRQ5RiESyLTC98lyRTCatIItz7G1Muw9XpFKpQOQcewPTQu8afS6XMxVFmfohBjuwZ0XtvF511iKFQuED7uttiEEf7DxUdGe2N1haUCCgUIg6IFhY6pv1vEa7U18lFSBQUhHtbstHbyYkl968tsd7Za2PW7vhaH9VPQQxs2/fQyP5j5j3aIA6X9nBo+GBEBtBnkulLZ2AxHrz/Vw6xEPxV4ABAB9p/+75XTbuAAAAAElFTkSuQmCC">

      <nav class="outline toc pattern-bg-lighter">
        <h3>Table of Contents</h3>

        <ul><li><a href="http://www.html5rocks.com/en/tutorials/getusermedia/intro/#toc-into" onClick="$.scrollTo(&quot;#toc-into&quot;, 800, {offset: {top: -35}})">Introduction</a></li><li><a href="http://www.html5rocks.com/en/tutorials/getusermedia/intro/#toc-history" onClick="$.scrollTo(&quot;#toc-history&quot;, 800, {offset: {top: -35}})">The road to getUserMedia()</a><ul><li><a href="http://www.html5rocks.com/en/tutorials/getusermedia/intro/#toc-round1" onClick="$.scrollTo(&quot;#toc-round1&quot;, 800, {offset: {top: -35}})">Round 1: HTML Media Capture</a></li><li><a href="http://www.html5rocks.com/en/tutorials/getusermedia/intro/#toc-round2" onClick="$.scrollTo(&quot;#toc-round2&quot;, 800, {offset: {top: -35}})">Round 2: device element</a></li><li><a href="http://www.html5rocks.com/en/tutorials/getusermedia/intro/#toc-round3" onClick="$.scrollTo(&quot;#toc-round3&quot;, 800, {offset: {top: -35}})">Round 3: WebRTC</a></li></ul></li><li><a href="http://www.html5rocks.com/en/tutorials/getusermedia/intro/#toc-gettingstarted" onClick="$.scrollTo(&quot;#toc-gettingstarted&quot;, 800, {offset: {top: -35}})">Getting started</a><ul><li><a href="http://www.html5rocks.com/en/tutorials/getusermedia/intro/#toc-enabling" onClick="$.scrollTo(&quot;#toc-enabling&quot;, 800, {offset: {top: -35}})">Enabling</a></li><li><a href="http://www.html5rocks.com/en/tutorials/getusermedia/intro/#toc-featuredecting" onClick="$.scrollTo(&quot;#toc-featuredecting&quot;, 800, {offset: {top: -35}})">Feature detection</a></li><li><a href="http://www.html5rocks.com/en/tutorials/getusermedia/intro/#toc-acccess" onClick="$.scrollTo(&quot;#toc-acccess&quot;, 800, {offset: {top: -35}})">Gaining access to an input device</a></li><li><a href="http://www.html5rocks.com/en/tutorials/getusermedia/intro/#toc-security" onClick="$.scrollTo(&quot;#toc-security&quot;, 800, {offset: {top: -35}})">Security</a></li><li><a href="http://www.html5rocks.com/en/tutorials/getusermedia/intro/#toc-fallback" onClick="$.scrollTo(&quot;#toc-fallback&quot;, 800, {offset: {top: -35}})">Providing fallback</a></li><li><a href="http://www.html5rocks.com/en/tutorials/getusermedia/intro/#toc-basic-demo" onClick="$.scrollTo(&quot;#toc-basic-demo&quot;, 800, {offset: {top: -35}})">Basic demo</a></li></ul></li><li><a href="http://www.html5rocks.com/en/tutorials/getusermedia/intro/#toc-screenshot" onClick="$.scrollTo(&quot;#toc-screenshot&quot;, 800, {offset: {top: -35}})">Taking screenshots</a></li><li><a href="http://www.html5rocks.com/en/tutorials/getusermedia/intro/#toc-effects" onClick="$.scrollTo(&quot;#toc-effects&quot;, 800, {offset: {top: -35}})">Applying Effects</a><ul><li><a href="http://www.html5rocks.com/en/tutorials/getusermedia/intro/#toc-effects-css" onClick="$.scrollTo(&quot;#toc-effects-css&quot;, 800, {offset: {top: -35}})">CSS Filters</a></li><li><a href="http://www.html5rocks.com/en/tutorials/getusermedia/intro/#toc-effects-webgl" onClick="$.scrollTo(&quot;#toc-effects-webgl&quot;, 800, {offset: {top: -35}})">WebGL Textures</a></li></ul></li><li><a href="http://www.html5rocks.com/en/tutorials/getusermedia/intro/#toc-webaudio-api" onClick="$.scrollTo(&quot;#toc-webaudio-api&quot;, 800, {offset: {top: -35}})">Using getUserMedia with the Web Audio API</a></li><li><a href="http://www.html5rocks.com/en/tutorials/getusermedia/intro/#toc-conclusion" onClick="$.scrollTo(&quot;#toc-conclusion&quot;, 800, {offset: {top: -35}})">Conclusion</a></li><li><a href="http://www.html5rocks.com/en/tutorials/getusermedia/intro/#toc-resources" onClick="$.scrollTo(&quot;#toc-resources&quot;, 800, {offset: {top: -35}})">Additional resources</a><ul><li><a href="http://www.html5rocks.com/en/tutorials/getusermedia/intro/#toc-demos" onClick="$.scrollTo(&quot;#toc-demos&quot;, 800, {offset: {top: -35}})">Demos</a></li></ul></li></ul>
        
        <h3>Localizations</h3>
        <p>This article is additionally available in the following languages:</p>
        <ul>
          
          <li><a href="http://www.html5rocks.com/es/tutorials/getusermedia/intro/">Español</a></li>
          
          <li><a href="http://www.html5rocks.com/ru/tutorials/getusermedia/intro/">Pусский</a></li>
          
          <li><a href="http://www.html5rocks.com/pt/tutorials/getusermedia/intro/">Português (Brasil)</a></li>
          
          <li><a href="http://www.html5rocks.com/de/tutorials/getusermedia/intro/">Deutsch</a></li>
          
          <li><a href="http://www.html5rocks.com/zh/tutorials/getusermedia/intro/">中文 (简体)</a></li>
          
          <li><a href="http://www.html5rocks.com/ja/tutorials/getusermedia/intro/">日本語</a></li>
          
        </ul>
        
      </nav>
    </div>
    <section>
    

<p></p><p class="notice" style="text-align:center">
<strong>Caution:</strong> This article discusses APIs that are not yet fully standardized
and still in flux. Be cautious when using experimental APIs in your own projects.
</p>
<p></p>
<h2 id="toc-into">Introduction</h2>

<p>Audio/Video capture has been <em>the</em> "Holy Grail" of web development for a long time.
For many years we've had to rely on browser plugins (<a href="http://www.kevinmusselman.com/2009/02/access-webcam-with-flash/">Flash</a> or
<a href="http://www.silverlightshow.net/items/Capturing-the-Webcam-in-Silverlight-4.aspx">Silverlight</a>)
to get the job done. <a href="http://www.youtube.com/watch?v=SP_9zH9Q44o" target="_blank">Come on!</a></p>
<p>HTML5 to the rescue. It might not be apparent, but the rise of HTML5 has brought
a surge of access to device hardware. <a href="http://www.html5rocks.com/tutorials/geolocation/trip_meter/">Geolocation</a> (GPS),
the <a href="http://www.html5rocks.com/tutorials/device/orientation/">Orientation API</a> (accelerometer), <a href="http://www.html5rocks.com/tutorials/webgl/shaders/">WebGL</a> (GPU),
and the <a href="http://www.html5rocks.com/tutorials/webaudio/intro/">Web Audio API</a> (audio hardware) are perfect examples. These features
are ridiculously powerful, exposing high level JavaScript APIs that sit
on top of the system's underlying hardware capabilities.</p>
<p>This tutorial introduces a new API, <a href="http://dev.w3.org/2011/webrtc/editor/getusermedia.html"><code>navigator.getUserMedia()</code></a>, which allows
web apps to access a user's camera and microphone.</p>
<h2 id="toc-history">The road to getUserMedia()</h2>

<p>If you're not aware of its history, the way we arrived at the <code>getUserMedia()</code> API is an interesting tale.</p>
<p>Several variants of "Media Capture APIs" have evolved over the past few years.
Many folks recognized the need to be able to access native devices on the web, but
that led everyone and their mom to put together a new spec. Things got
so messy that the W3C finally decided to form a working group. Their sole purpose?
Make sense of the madness! The <a href="http://www.w3.org/2009/dap/">Device APIs Policy (DAP) Working Group</a>
has been tasked to consolidate + standardize the plethora of proposals.</p>
<p>I'll try to summarize what happened in 2011...</p>
<h3 id="toc-round1">Round 1: HTML Media Capture</h3>

<p><a href="http://dev.w3.org/2009/dap/camera/">HTML Media Capture</a> was the DAP's first go at
standardizing media capture on the web. It works by overloading the <code>&lt;input type="file"&gt;</code>
and adding new values for the <code>accept</code> parameter.</p>
<p>If you wanted to let users take a snapshot of themselves with the webcam,
that's possible with <code>capture=camera</code>:</p>
<pre class="prettyprint"><code><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"file"</span><span class="pln"> </span><span class="atn">accept</span><span class="pun">=</span><span class="atv">"image/*;capture=camera"</span><span class="tag">&gt;</span></code></pre>
<p>Recording a video or audio is similar:</p>
<pre class="prettyprint"><code><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"file"</span><span class="pln"> </span><span class="atn">accept</span><span class="pun">=</span><span class="atv">"video/*;capture=camcorder"</span><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"file"</span><span class="pln"> </span><span class="atn">accept</span><span class="pun">=</span><span class="atv">"audio/*;capture=microphone"</span><span class="tag">&gt;</span></code></pre>
<p>Kinda nice right? I particularly like that it reuses a file input. Semantically,
it makes a lot of sense. Where this particular "API" falls short is the ability to do realtime effects
(e.g. render live webcam data to a <code>&lt;canvas&gt;</code> and apply WebGL filters).
HTML Media Capture only allows you to record a media file or take a snapshot in time.</p>
<p><strong>Support:</strong></p>
<ul>
<li><a href="http://developer.android.com/sdk/android-3.0.html">Android 3.0 browser</a> -
one of the first implementations. Check out <a href="http://davidbcalhoun.com/2011/android-3-0-honeycomb-is-first-to-implement-the-device-api">this video</a> to see it in action.</li>
<li>Chrome for Android (0.16)</li>
<li>Firefox Mobile 10.0</li>
</ul>
<p>My recommendation is to stay clear from this one unless you're working with one
of the mobile browsers above. Vendors are moving towards <code>getUserMedia()</code>.
It's very unlikely anyone else will implement HTML Media Capture in the long term.</p>
<h3 id="toc-round2">Round 2: device element</h3>

<p>Many thought HTML Media Capture was too limiting, so a new spec
emerged that supported any type of (future) device. Not surprisingly, the design called
for a new element, the <a href="http://dev.w3.org/html5/html-device/"><code>&lt;device&gt;</code> element</a>,
which became the predecessor to <code>getUserMedia()</code>.</p>
<p>Opera was among the first browsers to create <a href="http://my.opera.com/core/blog/2011/03/14/web-meet-device">initial implementations</a>
of video capture based on the <code>&lt;device&gt;</code> element. Soon after 
(<a href="http://my.opera.com/core/blog/2011/03/23/webcam-orientation-preview">the same day</a> to be precise),
the WhatWG decided to scrap the <code>&lt;device&gt;</code> tag in favor of another up and comer, this time a JavaScript API called 
<code>navigator.getUserMedia()</code>. A week later, Opera put out new builds that included
support for the updated <code>getUserMedia()</code> spec. Later that year,
Microsoft joined the party by releasing a <a href="http://blogs.msdn.com/b/ie/archive/2011/12/09/media-capture-api-helping-web-developers-directly-import-image-video-and-sound-data-into-web-apps.aspx">Lab for IE9</a>
supporting the new spec.</p>
<p>Here's what <code>&lt;device&gt;</code> would have looked like:</p>
<pre class="prettyprint"><code><span class="tag">&lt;device</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"media"</span><span class="pln"> </span><span class="atn">onchange</span><span class="pun">=</span><span class="atv">"</span><span class="pln">update</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">)</span><span class="atv">"</span><span class="tag">&gt;&lt;/device&gt;</span><span class="pln">
</span><span class="tag">&lt;video</span><span class="pln"> </span><span class="atn">autoplay</span><span class="tag">&gt;&lt;/video&gt;</span><span class="pln">
</span><span class="tag">&lt;script&gt;</span><span class="pln">
  </span><span class="kwd">function</span><span class="pln"> update</span><span class="pun">(</span><span class="pln">stream</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    document</span><span class="pun">.</span><span class="pln">querySelector</span><span class="pun">(</span><span class="str">'video'</span><span class="pun">).</span><span class="pln">src </span><span class="pun">=</span><span class="pln"> stream</span><span class="pun">.</span><span class="pln">url</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="tag">&lt;/script&gt;</span></code></pre>
<p><strong>Support:</strong></p>
<p>Unfortunately, no released browser ever included <code>&lt;device&gt;</code>.
One less API to worry about I guess :) <code>&lt;device&gt;</code> did have two great things going
for it though: 1.) it was semantic, and 2.) it was easily extendible to support
more than just audio/video devices.</p>
<p>Take a breath. This stuff moves fast!</p>
<h3 id="toc-round3">Round 3: WebRTC</h3>

<p>The <code>&lt;device&gt;</code> element eventually went the way of the Dodo.</p>
<p>The pace to find a suitable capture API accelerated in recent months
thanks to a larger effort called <a href="http://dev.w3.org/2011/webrtc/editor/webrtc.html">WebRTC</a> (Web Real Time Communications).
The spec is overseen by the <a href="http://www.w3.org/2011/04/webrtc/">W3C WebRTC Working Group</a>.
Google, Opera, Mozilla, and <a href="http://webrtc.org/">a few others</a> are currently working
on bringing implementations to their browsers.</p>
<p><code>getUserMedia()</code> is related to WebRTC because it's the gateway into that set of APIs.
It provides the means to access the user's local camera/microphone stream.</p>
<p><strong>Support:</strong></p>
<p>WebRTC can be implemented in Chrome 18.0.1008+ and can be enabled in <code>about:flags</code>.</p>
<h2 id="toc-gettingstarted">Getting started</h2>

<p>With <code>navigator.getUserMedia()</code>, we can finally tap into webcam and microphone input without a plugin.
Camera access is now a call away, not an install away. It's baked directly into the browser. Excited yet?</p>
<h3 id="toc-enabling">Enabling</h3>

<p>The <code>getUserMedia()</code> API is still very new, and only Google and Opera
have developer builds that include it. In Chrome 18+, the API can be enabled by
visiting <code>about:flags</code>.</p>
<p></p><figure>
<img src="./js/aboutflags.png">
<figcaption>Enabling the <code>getUserMedia()</code> in Chrome's <code>about:flags</code> page.</figcaption>
</figure><p></p>
<p>For Opera, download one of their experimental <a href="http://dev.opera.com/articles/view/labs-more-fun-using-the-web-with-getusermedia-and-native-pages/">Android and desktop builds</a>.</p>
<h3 id="toc-featuredecting">Feature detection</h3>

<p>Feature detecting is a simple check for the existence of <code>navigator.getUserMedia</code>:</p>
<pre class="prettyprint"><code><span class="kwd">function</span><span class="pln"> hasGetUserMedia</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// Note: Opera builds are unprefixed.</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">!!(</span><span class="pln">navigator</span><span class="pun">.</span><span class="pln">getUserMedia </span><span class="pun">||</span><span class="pln"> navigator</span><span class="pun">.</span><span class="pln">webkitGetUserMedia </span><span class="pun">||</span><span class="pln">
            navigator</span><span class="pun">.</span><span class="pln">mozGetUserMedia </span><span class="pun">||</span><span class="pln"> navigator</span><span class="pun">.</span><span class="pln">msGetUserMedia</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">hasGetUserMedia</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// Good to go!</span><span class="pln">
</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  alert</span><span class="pun">(</span><span class="str">'getUserMedia() is not supported in your browser'</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<h3 id="toc-acccess">Gaining access to an input device</h3>

<p>To use the webcam or microphone, we need to request permission.
The first parameter to <code>getUserMedia()</code> is an object specifying the type of
media you want to access. For example, if you want to access the webcam, the
first parameter should be <code>{video: true}</code>. To use both the microphone and camera,
pass <code>{video: true, audio: true}</code>:</p>
<pre class="prettyprint"><code><span class="tag">&lt;video</span><span class="pln"> </span><span class="atn">autoplay</span><span class="tag">&gt;&lt;/video&gt;</span><span class="pln">

</span><span class="tag">&lt;script&gt;</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> onFailSoHard </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">'Reeeejected!'</span><span class="pun">,</span><span class="pln"> e</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">

  </span><span class="com">// Not showing vendor prefixes.</span><span class="pln">
  navigator</span><span class="pun">.</span><span class="pln">getUserMedia</span><span class="pun">({</span><span class="pln">video</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> audio</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">},</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">localMediaStream</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> video </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">querySelector</span><span class="pun">(</span><span class="str">'video'</span><span class="pun">);</span><span class="pln">
    video</span><span class="pun">.</span><span class="pln">src </span><span class="pun">=</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">URL</span><span class="pun">.</span><span class="pln">createObjectURL</span><span class="pun">(</span><span class="pln">localMediaStream</span><span class="pun">);</span><span class="pln">

    </span><span class="com">// Note: onloadedmetadata doesn't fire in Chrome when using it with getUserMedia.</span><span class="pln">
    </span><span class="com">// See crbug.com/110938.</span><span class="pln">
    video</span><span class="pun">.</span><span class="pln">onloadedmetadata </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="com">// Ready to go. Do some stuff.</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">
  </span><span class="pun">},</span><span class="pln"> onFailSoHard</span><span class="pun">);</span><span class="pln">
</span><span class="tag">&lt;/script&gt;</span></code></pre>
<p>OK. So what's going on here? Media capture is a perfect example of new HTML5 APIs
working together. It works in conjunction with our other HTML5 buddies, <code>&lt;audio&gt;</code> and <code>&lt;video&gt;</code>.
Notice that we're not setting a <code>src</code> attribute or including <code>&lt;source&gt;</code> elements
on the <code>&lt;video&gt;</code> element. Instead of feeding the video a URL to a media file, we're feeding
it a <a href="http://www.html5rocks.com/tutorials/workers/basics/#toc-inlineworkers-bloburis">Blob URL</a> obtained
from a <code>LocalMediaStream</code> object representing the webcam.</p>
<p>I'm also telling the <code>&lt;video&gt;</code> to <code>autoplay</code>, otherwise it would be frozen on
the first frame. Adding <code>controls</code> also works as you'd expected.</p>
<p class="notice" style="text-align:center">
<strong>Note:</strong> There's a bug in Chrome where passing just <code>{audio: true}</code> does
not work: <a href="http://crbug.com/112367">crbug.com/112367</a>. I couldn't
get <code>&lt;audio&gt;</code> working in Opera either.
</p>

<p>Both Opera and Chrome implement different versions of <a href="http://www.html5rocks.com/en/tutorials/getusermedia/intro/getusermedia-spec">the specification</a>.
This makes practical usage a little more "challenging" than it eventually will be.</p>
<p><strong>In Chrome:</strong></p>
<p>This snippet works in Chrome 18 (enabled in <code>about:flags</code>):</p>
<pre class="prettyprint"><code><span class="pln">navigator</span><span class="pun">.</span><span class="pln">webkitGetUserMedia</span><span class="pun">(</span><span class="str">'audio, video'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">localMediaStream</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> video </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">querySelector</span><span class="pun">(</span><span class="str">'video'</span><span class="pun">);</span><span class="pln">
  video</span><span class="pun">.</span><span class="pln">src </span><span class="pun">=</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">webkitURL</span><span class="pun">.</span><span class="pln">createObjectURL</span><span class="pun">(</span><span class="pln">localMediaStream</span><span class="pun">);</span><span class="pln">
</span><span class="pun">},</span><span class="pln"> onFailSoHard</span><span class="pun">);</span></code></pre>
<p>This snippet works in Chrome 20+ (enabled in <code>about:flags</code>):</p>
<pre class="prettyprint"><code><span class="pln">navigator</span><span class="pun">.</span><span class="pln">webkitGetUserMedia</span><span class="pun">({</span><span class="pln">video</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> audio</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">},</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">localMediaStream</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> video </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">querySelector</span><span class="pun">(</span><span class="str">'video'</span><span class="pun">);</span><span class="pln">
  video</span><span class="pun">.</span><span class="pln">src </span><span class="pun">=</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">webkitURL</span><span class="pun">.</span><span class="pln">createObjectURL</span><span class="pun">(</span><span class="pln">localMediaStream</span><span class="pun">);</span><span class="pln">
</span><span class="pun">},</span><span class="pln"> onFailSoHard</span><span class="pun">);</span></code></pre>
<p><strong>In Opera:</strong></p>
<p>In Opera developer builds, things are a bit different:</p>
<pre class="prettyprint"><code><span class="pln">navigator</span><span class="pun">.</span><span class="pln">getUserMedia</span><span class="pun">({</span><span class="pln">audio</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> video</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">},</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">localMediaStream</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  video</span><span class="pun">.</span><span class="pln">src </span><span class="pun">=</span><span class="pln"> localMediaStream</span><span class="pun">;</span><span class="pln">
</span><span class="pun">},</span><span class="pln"> onFailSoHard</span><span class="pun">);</span></code></pre>
<p>The key differences are:</p>
<ul>
<li><code>getUserMedia()</code> is unprefixed.</li>
<li><code>video.src</code> is set directly to the <code>LocalMediaStream</code> object instead of a Blob URL.
I'm told Opera will eventually update this to require a Blob URL.</li>
</ul>
<p><strong>In Both:</strong></p>
<p>If you want something that works cross-browser, try this:</p>
<pre class="prettyprint"><code><span class="pln">navigator</span><span class="pun">.</span><span class="pln">getUserMedia </span><span class="pun">=</span><span class="pln"> navigator</span><span class="pun">.</span><span class="pln">getUserMedia </span><span class="pun">||</span><span class="pln"> navigator</span><span class="pun">.</span><span class="pln">webkitGetUserMedia</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">var</span><span class="pln"> video </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">querySelector</span><span class="pun">(</span><span class="str">'video'</span><span class="pun">);</span><span class="pln">

</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">navigator</span><span class="pun">.</span><span class="pln">getUserMedia</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  navigator</span><span class="pun">.</span><span class="pln">getUserMedia</span><span class="pun">({</span><span class="pln">audio</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> video</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">},</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">stream</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">navigator</span><span class="pun">.</span><span class="pln">webkitGetUserMedia</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      video</span><span class="pun">.</span><span class="pln">src </span><span class="pun">=</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">webkitURL</span><span class="pun">.</span><span class="pln">createObjectURL</span><span class="pun">(</span><span class="pln">stream</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      video</span><span class="pun">.</span><span class="pln">src </span><span class="pun">=</span><span class="pln"> stream</span><span class="pun">;</span><span class="pln"> </span><span class="com">// Opera</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">},</span><span class="pln"> onFailSoHard</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  video</span><span class="pun">.</span><span class="pln">src </span><span class="pun">=</span><span class="pln"> </span><span class="str">'somevideo.webm'</span><span class="pun">;</span><span class="pln"> </span><span class="com">// fallback.</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>Be sure to check out <a href="http://twitter.com/miketaylr">Mike Taylor</a>
and <a href="http://twitter.com/akamike">Mike Robinson</a>'s <a href="https://gist.github.com/f2ac64ed7fc467ccdfe3">gUM Shield</a>.
It does a great job of "normalizing" the inconsistencies between browser implementations.</p>
<h3 id="toc-security">Security</h3>

<p>Some browsers throw up an infobar upon calling <code>getUserMedia()</code>,
which gives users the option to grant or deny access to their camera/mic.
The spec unfortunately is very quiet when it comes to security. At this point, 
only Chrome implements a permission dialog.</p>
<p></p><figure>
<img src="./js/permission.png" alt="Permission dialog in Chrome" title="Permission dialog in Chrome">
<figcaption>Permission dialog in Chrome</figcaption>
</figure><p></p>
<h3 id="toc-fallback">Providing fallback</h3>

<p>For users that don't have support for <code>getUserMedia()</code>, one option is to fallback
to an existing video file if the API isn't supported and/or the call fails for some reason:</p>
<pre class="prettyprint"><code><span class="com">// Not showing vendor prefixes or code that works cross-browser:</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> fallback</span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  video</span><span class="pun">.</span><span class="pln">src </span><span class="pun">=</span><span class="pln"> </span><span class="str">'fallbackvideo.webm'</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> success</span><span class="pun">(</span><span class="pln">stream</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  video</span><span class="pun">.</span><span class="pln">src </span><span class="pun">=</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">URL</span><span class="pun">.</span><span class="pln">createObjectURL</span><span class="pun">(</span><span class="pln">stream</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">navigator</span><span class="pun">.</span><span class="pln">getUserMedia</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  fallback</span><span class="pun">();</span><span class="pln">
</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  navigator</span><span class="pun">.</span><span class="pln">getUserMedia</span><span class="pun">({</span><span class="pln">video</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">},</span><span class="pln"> success</span><span class="pun">,</span><span class="pln"> fallback</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<h3 id="toc-basic-demo">Basic demo</h3>

<div style="text-align:center;">
  <video id="basic-stream" class="videostream" autoplay=""></video>
  <p><button id="capture-button">Capture video</button> <button id="stop-button">Stop</button></p>
</div>

<h2 id="toc-screenshot">Taking screenshots</h2>

<p>The <code>&lt;canvas&gt;</code> API's <code>ctx.drawImage(video, 0, 0)</code> method makes it trivial to draw
<code>&lt;video&gt;</code> frames to <code>&lt;canvas&gt;</code>. Of course, now that we have video
input via <code>getUserMedia()</code>,  it's just as easy to create a photo booth application
with realtime video:</p>
<pre class="prettyprint"><code><span class="tag">&lt;video</span><span class="pln"> </span><span class="atn">autoplay</span><span class="tag">&gt;&lt;/video&gt;</span><span class="pln">
</span><span class="tag">&lt;img</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">""</span><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;canvas</span><span class="pln"> </span><span class="atn">style</span><span class="pun">=</span><span class="atv">"</span><span class="kwd">display</span><span class="pun">:</span><span class="pln">none</span><span class="pun">;</span><span class="atv">"</span><span class="tag">&gt;&lt;/canvas&gt;</span><span class="pln">

var video = document.querySelector('video');
var canvas = document.querySelector('canvas');
var ctx = canvas.getContext('2d');
var localMediaStream = null;

function snapshot() {
  if (localMediaStream) {
    ctx.drawImage(video, 0, 0);
    // "image/webp" works in Chrome 18. In other browsers, this will fall back to image/png.
    document.querySelector('img').src = canvas.toDataURL('image/webp');
  }
}

video.addEventListener('click', snapshot, false);

// Not showing vendor prefixes or code that works cross-browser.
navigator.getUserMedia({video: true}, function(stream) {
  video.src = window.URL.createObjectURL(stream);
  localMediaStream = stream;
}, onFailSoHard);</span></code></pre>
<div style="text-align:center;">
  <video id="screenshot-stream" class="videostream" autoplay=""></video>
  <img id="screenshot" src="">
  <canvas id="screenshot-canvas" style="display:none;"></canvas>
  <p><button id="screenshot-button">Capture</button> <button id="screenshot-stop-button">Stop</button></p>
</div>

<h2 id="toc-effects">Applying Effects</h2>

<h3 id="toc-effects-css">CSS Filters</h3>

<p class="notice" style="text-align:center">
CSS filters are currently supported in WebKit nightlies and Chrome 18+.
</p>

<p>Using <a href="https://dvcs.w3.org/hg/FXTF/raw-file/tip/filters/index.html">CSS Filters</a>, we can apply some gnarly effects to the <code>&lt;video&gt;</code>
as it is captured:</p>
<pre class="prettyprint"><code><span class="tag">&lt;style&gt;</span><span class="pln">
video </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">width</span><span class="pun">:</span><span class="pln"> </span><span class="lit">307px</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">height</span><span class="pun">:</span><span class="pln"> </span><span class="lit">250px</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">background</span><span class="pun">:</span><span class="pln"> rgba</span><span class="pun">(</span><span class="lit">255</span><span class="pun">,</span><span class="lit">255</span><span class="pun">,</span><span class="lit">255</span><span class="pun">,</span><span class="lit">0.5</span><span class="pun">);</span><span class="pln">
  </span><span class="kwd">border</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1px</span><span class="pln"> solid </span><span class="lit">#ccc</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="pun">.</span><span class="pln">grayscale </span><span class="pun">{</span><span class="pln">
  </span><a href="http://sass-lang.com/docs/yardoc/file.SASS_REFERENCE.html#including_a_mixin" id="tooltip106.52" target="_blank" data-tooltip="/*Vendor prefixes required. Try Compass/SASS.*/
-webkit-filter: ...
   -moz-filter: ...
    -ms-filter: ...
     -o-filter: ...
        filter: ..." role="tooltip" aria-describedby="tooltip106.52" class="noexternal tooltip"><span class="pun">+</span><span class="property"><span class="kwd">filter</span><span class="pun">:</span></span><span class="pln"> grayscale</span><span class="pun">(</span><span class="lit">1</span><span class="pun">);</span></a><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="pun">.</span><span class="pln">sepia </span><span class="pun">{</span><span class="pln">
  </span><a href="http://sass-lang.com/docs/yardoc/file.SASS_REFERENCE.html#including_a_mixin" id="tooltip106.52" target="_blank" data-tooltip="/*Vendor prefixes required. Try Compass/SASS.*/
-webkit-filter: ...
   -moz-filter: ...
    -ms-filter: ...
     -o-filter: ...
        filter: ..." role="tooltip" aria-describedby="tooltip106.52" class="noexternal tooltip"><span class="pun">+</span><span class="property"><span class="kwd">filter</span><span class="pun">:</span></span><span class="pln"> sepia</span><span class="pun">(</span><span class="lit">1</span><span class="pun">);</span></a><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="pun">.</span><span class="pln">blur </span><span class="pun">{</span><span class="pln">
  </span><a href="http://sass-lang.com/docs/yardoc/file.SASS_REFERENCE.html#including_a_mixin" id="tooltip106.52" target="_blank" data-tooltip="/*Vendor prefixes required. Try Compass/SASS.*/
-webkit-filter: ...
   -moz-filter: ...
    -ms-filter: ...
     -o-filter: ...
        filter: ..." role="tooltip" aria-describedby="tooltip106.52" class="noexternal tooltip"><span class="pun">+</span><span class="property"><span class="kwd">filter</span><span class="pun">:</span></span><span class="pln"> blur</span><span class="pun">(</span><span class="lit">3px</span><span class="pun">);</span></a><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="pun">...</span><span class="pln">
</span><span class="tag">&lt;/style&gt;</span><span class="pln">

</span><span class="tag">&lt;video</span><span class="pln"> </span><span class="atn">autoplay</span><span class="tag">&gt;&lt;/video&gt;</span><span class="pln">

</span><span class="tag">&lt;script&gt;</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> idx </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> filters </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="str">'grayscale'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'sepia'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'blur'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'brightness'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'contrast'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'hue-rotate'</span><span class="pun">,</span><span class="pln">
               </span><span class="str">'hue-rotate2'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'hue-rotate3'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'saturate'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'invert'</span><span class="pun">,</span><span class="pln"> </span><span class="str">''</span><span class="pun">];</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> changeFilter</span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> el </span><span class="pun">=</span><span class="pln"> e</span><span class="pun">.</span><span class="pln">target</span><span class="pun">;</span><span class="pln">
  el</span><span class="pun">.</span><span class="pln">className </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> effect </span><span class="pun">=</span><span class="pln"> filters</span><span class="pun">[</span><span class="pln">idx</span><span class="pun">++</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> filters</span><span class="pun">.</span><span class="pln">length</span><span class="pun">];</span><span class="pln"> </span><span class="com">// loop through filters.</span><span class="pln">
  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">effect</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    el</span><span class="pun">.</span><span class="pln">classList</span><span class="pun">.</span><span class="pln">add</span><span class="pun">(</span><span class="pln">effect</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

document</span><span class="pun">.</span><span class="pln">querySelector</span><span class="pun">(</span><span class="str">'video'</span><span class="pun">).</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">'click'</span><span class="pun">,</span><span class="pln"> changeFilter</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">
</span><span class="tag">&lt;/script&gt;</span></code></pre>
<div style="text-align:center;">
  <video id="cssfilters-stream" class="videostream" autoplay="" title="Click me to apply CSS Filters" alt="Click me to apply CSS Filters"></video>
  <p>Click the video to cycle through CSS filters</p>
  <p><button id="capture-button2">Capture video</button> <button id="stop-button2">Stop</button></p>
</div>

<h3 id="toc-effects-webgl">WebGL Textures</h3>

<p>One amazing use case for video capture is to render live input as a WebGL texture.
Since I know absolutely nothing about WebGL (other than it's sweet), I'm going
to suggest you give Jerome Etienne's <a href="http://learningthreejs.com/blog/2012/02/07/live-video-in-webgl/">tutorial</a>
and <a href="http://learningthreejs.com/data/live-video-in-webgl/">demo</a> a look. 
It talks about how to use <code>getUserMedia()</code> and <a href="http://www.html5rocks.com/tutorials/three/intro/">Three.js</a>
to render live video into WebGL.</p>
<h2 id="toc-webaudio-api">Using getUserMedia with the Web Audio API</h2>

<p class="notice" style="text-align:center">
This section discusses possible future improvements and extensions
to the current API.
</p>

<p>One of my dreams is to build AutoTune in the browser with nothing more than open web technology!
We're actually not too far from that reality. We already have <code>getUserMedia()</code>
for mic input. Sprinkle in the <a href="http://www.html5rocks.com/tutorials/webaudio/intro/">Web Audio API</a> for realtime
effects, and we're set. Integrating the two is the missing piece (<a href="http://crbug.com/112404">crbug.com/112404</a>),
though there's a <a href="https://dvcs.w3.org/hg/audio/raw-file/tip/webaudio/webrtc-integration.html">preliminary proposal</a>
in the works to make it happen.</p>
<p>Piping microphone input to the Web Audio API <em>could</em> look like this someday:</p>
<pre class="prettyprint"><code><span class="kwd">var</span><span class="pln"> context </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">webkitAudioContext</span><span class="pun">();</span><span class="pln">

navigator</span><span class="pun">.</span><span class="pln">webkitGetUserMedia</span><span class="pun">({</span><span class="pln">audio</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">},</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">stream</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> microphone </span><span class="pun">=</span><span class="pln"> context</span><span class="pun">.</span><span class="pln">createMediaStreamSource</span><span class="pun">(</span><span class="pln">stream</span><span class="pun">);</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> filter </span><span class="pun">=</span><span class="pln"> context</span><span class="pun">.</span><span class="pln">createBiquadFilter</span><span class="pun">();</span><span class="pln">

  </span><span class="com">// microphone -&gt; filter -&gt; destination.</span><span class="pln">
  microphone</span><span class="pun">.</span><span class="pln">connect</span><span class="pun">(</span><span class="pln">filter</span><span class="pun">);</span><span class="pln">
  filter</span><span class="pun">.</span><span class="pln">connect</span><span class="pun">(</span><span class="pln">context</span><span class="pun">.</span><span class="pln">destination</span><span class="pun">);</span><span class="pln">
</span><span class="pun">},</span><span class="pln"> onFailSoHard</span><span class="pun">);</span></code></pre>
<p>If you want to see <code>getUserMedia()</code> hooked up to the Web Audio API, star <a href="http://crbug.com/112404">crbug.com/112404</a>.</p>
<h2 id="toc-conclusion">Conclusion</h2>

<p>In general, device access on the web has been a tough cookie to crack. Many
<a href="http://www.slideshare.net/jamesgpearce/mobile-device-apis">people have tried</a>,
few have succeeded. Most of the early ideas have never taken hold outside of a
proprietary environment nor have they gained widespread adoption.</p>
<p>The real problem is that the web's security model is <em>very</em> different from the native world.
For example, I probably don't want every Joe Shmoe web site to have random access to my
video camera. It's a tough problem to get right.</p>
<p>Bridging frameworks like <a href="http://phonegap.com/">PhoneGap</a> have helped push the boundary,
but they're only a start and a temporary solution to an underlying problem. To make web
apps competitive to their desktop counterparts, we need access to native devices.</p>
<p><code>getUserMedia()</code> is but the first wave of access to new types of devices. I hope
we'll continue to see more in the very near future!</p>
<h2 id="toc-resources">Additional resources</h2>

<ul>
<li><a href="http://dev.w3.org/2011/webrtc/editor/getusermedia.html">W3C specification</a></li>
<li>Bruce Lawson's <a href="http://html5doctor.com/getusermedia/">HTML5Doctor article</a></li>
<li>Bruce Lawson's <a href="http://dev.opera.com/articles/view/getusermedia-access-camera-privacy-ui/">dev.opera.com article</a></li>
</ul>
<h3 id="toc-demos">Demos</h3>

<ul>
<li><a href="http://html5-demos.appspot.com/static/getusermedia/photobooth.html">Live Photo booth</a></li>
<li><a href="http://people.opera.com/danield/webapps/instant-camera/">Instant Camera</a></li>
<li><a href="http://people.opera.com/danield/html5/explode/">Exploding Video</a></li>
<li>Paul Neave's <a href="http://neave.com/webcam/html5/">WebGL Camera Effects</a></li>
<li><a href="http://html5photobooth.com/">Snapster</a></li>
<li><a href="http://learningthreejs.com/data/live-video-in-webgl/">Live video in WebGL</a></li>
<li><a href="http://www.soundstep.com/blog/experiments/jsdetection/">Play Xylophone with your hands</a></li>
</ul>
<script>
function onFailSoHard(e) {
  if (e.code == 1) {
    alert('User denied access to their camera');
  } else {
    alert('getUserMedia() not supported in your browser.');
  }
  //e.target.src = 'http://www.html5rocks.com/en/tutorials/video/basics/Chrome_ImF.ogv';
}

(function() {
var video = document.querySelector('#basic-stream');
var button = document.querySelector('#capture-button');
var localMediaStream = null;

button.addEventListener('click', function(e) {
  if (navigator.getUserMedia) {
    navigator.getUserMedia('video', function(stream) {
      video.src = stream;
      video.controls = true;
      localMediaStream = stream;
    }, onFailSoHard);
  } else if (navigator.webkitGetUserMedia) {
    navigator.webkitGetUserMedia({video: true}, function(stream) {
      video.src = window.webkitURL.createObjectURL(stream);
      video.controls = true;
      localMediaStream = stream;
    }, onFailSoHard);
  } else {
    onFailSoHard({target: video});
  }
}, false);

document.querySelector('#stop-button').addEventListener('click', function(e) {
  video.pause();
  localMediaStream.stop(); // Doesn't do anything in Chrome.
}, false);
})();

(function() {
var video = document.querySelector('#screenshot-stream');
var button = document.querySelector('#screenshot-button');
var canvas = document.querySelector('#screenshot-canvas');
var img = document.querySelector('#screenshot');
var ctx = canvas.getContext('2d');
var localMediaStream = null;

function sizeCanvas() {
  // video.onloadedmetadata not firing in Chrome. See crbug.com/110938.
  setTimeout(function() {
    canvas.width = video.videoWidth;
    canvas.height = video.videoHeight;
    img.height = video.videoHeight;
    img.width = video.videoWidth;
  }, 50);
}

function snapshot() {
  ctx.drawImage(video, 0, 0);
  img.src = canvas.toDataURL('image/webp');
}

button.addEventListener('click', function(e) {
  if (localMediaStream) {
    snapshot();
    return;
  }

if (navigator.getUserMedia) {
    navigator.getUserMedia('video', function(stream) {
      video.src = stream;
      localMediaStream = stream;
      sizeCanvas();
      button.textContent = 'Take Shot';
    }, onFailSoHard);
  } else if (navigator.webkitGetUserMedia) {
    navigator.webkitGetUserMedia({video: true}, function(stream) {
      video.src = window.webkitURL.createObjectURL(stream);
      localMediaStream = stream;
      sizeCanvas();
      button.textContent = 'Take Shot';
    }, onFailSoHard);
  } else {
    onFailSoHard({target: video});
  }
}, false);

video.addEventListener('click', snapshot, false);

document.querySelector('#screenshot-stop-button').addEventListener('click', function(e) {
  video.pause();
  localMediaStream.stop(); // Doesn't do anything in Chrome.
}, false);
})();

(function() {
var video = document.querySelector('#cssfilters-stream');
var button = document.querySelector('#capture-button2');
var localMediaStream = null;

var idx = 0;
var filters = [
  'grayscale',
  'sepia',
  'blur',
  'brightness',
  'contrast',
  'hue-rotate', 'hue-rotate2', 'hue-rotate3',
  'saturate',
  'invert',
  ''
];

function changeFilter(e) {
  var el = e.target;
  el.className = '';
  var effect = filters[idx++ % filters.length];
  if (effect) {
    el.classList.add(effect);
  }
}

button.addEventListener('click', function(e) {
  if (navigator.getUserMedia) {
    navigator.getUserMedia('video, audio', function(stream) {
      video.src = stream;
      localMediaStream = stream;
    }, onFailSoHard);
  } else if (navigator.webkitGetUserMedia) {
    navigator.webkitGetUserMedia({video: true}, function(stream) {
      video.src = window.webkitURL.createObjectURL(stream);
      localMediaStream = stream;
    }, onFailSoHard);
  } else {
    onFailSoHard({target: video});
  }
}, false);

document.querySelector('#stop-button2').addEventListener('click', function(e) {
  video.pause();
  localMediaStream.stop(); // Doesn't do anything in Chrome.
}, false);

video.addEventListener('click', changeFilter, false);
})();
</script>

    </section>
  </article>
  

<section class="cc pattern-bg-lighter">
  <p>
  
    Except as otherwise <a href="http://code.google.com/policies.html#restrictions">noted</a>, the content of this page is licensed under the <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 License</a>, and code samples are licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>.
  
  </p>
</section>


<section class="disqus pattern-bg-lighter">
  <div id="disqus_thread"></div>
  <noscript>
    &lt;p class="center"&gt;
      &lt;strong&gt;
        &lt;a href="http://disqus.com/?ref_noscript"&gt;Please enable JavaScript to view the comments powered by Disqus.&lt;/a&gt;
      &lt;/strong&gt;
    &lt;/p&gt;
  </noscript>

  <script async="" src="https://apis.google.com/js/plusone.js"></script>
  <script async="" src="./js/prettify.min.js" onload="prettyPrint()"></script>
  <script async="" src="http://platform.twitter.com/widgets.js"></script>
  <script>
    var disqus_shortname = 'html5rocks';
    var disqus_identifier = 'http://www.html5rocks.com/tutorials/getusermedia/intro/';
    var disqus_url = 'http://www.html5rocks.com/tutorials/getusermedia/intro/';
    var disqus_developer = 0;

    var disqus_config = function () {
      var funky_language_code_mapping = {
        'de': 'de_inf',
        'es': 'es_ES',
        'pt': 'pt_EU',
        'sr': 'sr_CYRL',
        'sv': 'sv_SE',
        'zh': 'zh_HANT'
      };
      this.language = funky_language_code_mapping['en'] ||
                      'en';
    };

    window.addEventListener('load', function(e) {

      var c = document.createElement('script'); c.type = 'text/javascript';
      c.src = 'http://' + disqus_shortname + '.disqus.com/count.js';

      var dsq = document.createElement('script'); dsq.type = 'text/javascript';
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';

      var s = document.getElementsByTagName('script')[0], sp = s.parentNode;
      sp.insertBefore(c, s); sp.insertBefore(dsq, s);

    }, false);
  </script>
</section>




  </div>

<!--
  <footer>
    <span>
      <a href="http://www.w3.org/html/logo/">
        <img src="/static/images/identity/HTML5_Badge_64.png" align="left" title="HTML5 Logo" alt="HTML5 Logo" class="footer-badge"/>
      </a>
    </span>
    <span>
      <a href="/en/tos.html" >Terms</a> -
      <a href="/en/privacy.html" >Privacy</a> -
      <a href="http://code.google.com/p/html5rocks/issues/entry">Report bug or request a feature</a> -
      <a href="http://twitter.com/ChromiumDev">Follow us on Twitter</a> -
      <a href="/en/profiles" >About Authors</a>
    </span>
    <span class="madeby">Made by Google| <img src="/static/images/google_logo_small.png" width="50" height="20" alt=""></span>
    <p>This site contains information on APIs that are not part of the W3C HTML5 specification.</p>
  </footer>
-->

  <script>

  (function() {
    

    $('#features_show a').click(function() {
      $('#search_hide').click(); // Hide search panel if it's out.

      if ($(this).hasClass('current')) {
        $('.subheader.features').hide();
        $(this).removeClass('current');
        $('.watermark').css('top', '30px');
        $('#features_show a').focus();
      } else {
        $('.main nav .current').removeClass('current');
        $(this).addClass('current');
        $('.subheader.features').show();
        $('.watermark').css('top', '100px');
        $('#features').focus();
      }
      // don't apply hash
      if (/#features$/.test(this.href)) return false;
    });

    $('#features_hide').click(function() {
      $('#features_show').removeClass('current');
      $('.subheader.features').hide();
      $('.watermark').css('top', '30px');
      $('#features_show a').focus();
    });

    // Check if new appcache is available.
    if (window.applicationCache) {
      window.applicationCache.addEventListener('updateready', function(e) {
        if (window.applicationCache.status == window.applicationCache.UPDATEREADY) {
          window.applicationCache.swapCache();
          if (confirm('A new version of this site is available. Load it?')) {
            window.location.reload();
          }
        }
      }, false);
    }

    window.isCompatible = function() {
      
  return !!(navigator.getUserMedia || navigator.webkitGetUserMedia ||
            navigator.mozGetUserMedia || navigator.msGetUserMedia);

    };

    if (isCompatible() === false) {
      document.getElementById('notcompatible').className = '';
    } else if (isCompatible() === true) {
      document.getElementById('compatible').className = '';
    }

    // Kill feedburner and marketing tracking arguments cuz they're ugly.
    if (/^\?utm_/.test(document.location.search) &&
        window.history.replaceState) {
      window.history.replaceState(
          {}, '', document.location.href.replace(/\?utm_.*/, ''));
    }

    if ($(window).width() < '1200' && $(window).width() > '1000' && $('.toc').length) {
      // Fix the TOC if our scroll position is below the top of the page.
      var top = $('.toc').offset().top - 50;

      $(window).scroll(function (event) {
        // Get the position of the vertical scroll.
        var y = $(this).scrollTop();

        if (y >= top) {
          $('.toc').addClass('fixed').removeClass('bottom');
        } else {
          $('.toc').removeClass('fixed').removeClass('bottom');
        }
      });
    }
  })();
  </script>
  <script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-15028909-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script>

  <!-- defer is unreliable in ie <= 9, but o well -->
  <script defer="" src="./js/app.min.js"></script>

  <script defer="" src="./js/search.min.js"></script>
  <script defer="" src="./js/3rdpartyinit.min.js"></script>


<sfmsg id="sfMsgId" data="{&quot;imageCount&quot;:0,&quot;ip&quot;:&quot;116.228.3.66&quot;}"></sfmsg></body></html>